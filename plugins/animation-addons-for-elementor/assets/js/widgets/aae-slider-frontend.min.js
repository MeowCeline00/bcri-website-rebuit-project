!function(e){window.addEventListener("elementor/frontend/init",function(){class i extends elementorModules.frontend.handlers.Base{constructor(){super(...arguments),elementorFrontend.isEditMode()&&(this.lifecycleChangeListener=null)}onInit(){this.swiper=null,this.isInitialized=!1,elementorFrontend.isEditMode()?setTimeout(()=>this.run(),3e3):this.run(),this.isEdit&&elementor.channels.editor.on("aae_nsslider:editor:savechnage",(e,i)=>{this.updateSliderOnOptionChange(),e.$el.parent().find(".elementor-control-center_slide .elementor-switch-input").trigger("change"),e.$el.find("button").text("Saving...."),setTimeout(()=>{e.$el.find("button").text("Save Change")},500)}),new ResizeObserver(function(e,i=1500){let n;return function(){clearTimeout(n),n=setTimeout(()=>e.apply(this,arguments),i)}}(()=>{this.swiper&&this.isInitialized&&this.swiper.update()})).observe(document.body),window.addEventListener("elementor/nested-container/atomic-repeater",e=>{const{container:i,action:n}=e.detail,t=this.swiper?this.swiper.slides.length:0;"wcf--nested-slider"===i.model.config.name&&"remove"==n.type&&this.isActiveSlide(t),"wcf--nested-slider"===i.model.config.name&&"create"==n.type&&this.isActiveSlide(t),"wcf--nested-slider"===i.model.config.name&&"duplicate"==n.type&&this.isActiveSlide(t)})}updateRows(){const e=this.getElementSettings("grid_rows")||1;this.swiper&&this.swiper.params.grid&&(this.swiper.destroy(!0,!0),this.swiper=new Swiper(this.$element.find(".swiper")[0],{grid:{rows:e,fill:"row"}}))}onEditSettingsChange(e,i){"activeItemIndex"===e&&this.changeActiveSlide(i,!1,e)}getResponsiveSetting(e,i){const n=elementorFrontend.getCurrentDeviceMode();return e["desktop"===n?i:`${i}_${n}`]||e[i]||null}onElementChange(e){this.updateSliderOnOptionChange(e)}updateSliderOnOptionChange(e){const i=this.getElementSettings(),n=elementorFrontend.getCurrentDeviceMode();async function t(e){try{const i=await fetch(e,{mode:"cors"}),n=await i.text();return(new DOMParser).parseFromString(n,"image/svg+xml").documentElement}catch(e){return!1}}if(!this.swiper)return;const a=e=>parseInt(i["desktop"===n?e:`${e}_${n}`]||i[e])||0;["slides_to_show","space_between"].forEach(e=>{"slides_to_show"===e?this.swiper.params.slidesPerView=a(e):"space_between"===e&&(this.swiper.params.spaceBetween=a(e))}),["autoplay","autoplay_delay","speed","grid_rows","loop"].forEach(e=>{"autoplay"===e&&("yes"==i.autoplay?this.swiper.params.autoplay={delay:i.autoplay_delay,disableOnInteraction:!1}:this.swiper.params.autoplay=!1),"speed"===e&&(this.swiper.params.speed=i.speed),"loop"===e&&(this.swiper.params.loop="TRUE"==i.loop),"grid_rows"===e&&(this.swiper.params.grid={rows:i.grid_rows||1,fill:"row"})});const s=this.swiper.params;if(s.handleElementorBreakpoints=!0,s.breakpoints={},i.pagination&&"yes"===i.pagination){this.$element.find(".ts-pagination").show(),s.pagination||(s.pagination={});const n=this.$element.find(".swiper-pagination")[0];if(s.pagination.el=n,s.pagination.clickable=!0,"pagination_type"===e||"pagination"===e){n&&(n.innerHTML="",n.className="swiper-pagination");const e=i?.pagination_type||"bullets";s.pagination.type=e,"fraction"===e&&(s.pagination.formatFractionCurrent=function(e){return("0"+e).slice(-2)},s.pagination.formatFractionTotal=function(e){return("0"+e).slice(-2)},s.pagination.renderFraction=function(e,i){return'<span class="'+e+'"></span><span class="mid-line"></span><span class="'+i+'"></span>'})}}else this.$element.find(".ts-pagination").hide(),s.pagination=!1;if(i.navigation&&"yes"===i.navigation){if(this.$element.find(".ts-navigation").show(),"navigation_previous_icon"===e||"navigation_next_icon"===e||"navigation"===e){if(i?.navigation_previous_icon&&"svg"!==i.navigation_previous_icon.library&&""!=i.navigation_previous_icon.value)this.$element.find(".wcf-arrow-prev").html(`<i class="${i.navigation_previous_icon.value}"></i>`);else if(i?.navigation_previous_icon&&"svg"==i.navigation_previous_icon.library&&""!=i.navigation_previous_icon.value?.url){t(i.navigation_previous_icon.value.url).then(e=>{this.$element.find(".wcf-arrow-prev").html(e)})}if(i?.navigation_next_icon&&"svg"!==i.navigation_next_icon.library&&""!=i.navigation_next_icon.value)this.$element.find(".wcf-arrow-next").html(`<i class="${i.navigation_next_icon.value}"></i>`);else if(i?.navigation_next_icon&&"svg"==i.navigation_next_icon.library&&""!=i.navigation_next_icon.value?.url){t(i.navigation_next_icon.value.url).then(e=>{this.$element.find(".wcf-arrow-next").html(e)})}}s.navigation||(s.navigation={}),s.navigation.nextEl=this.$element.find(".wcf-arrow-next")[0],s.navigation.prevEl=this.$element.find(".wcf-arrow-prev")[0]}else this.$element.find(".ts-navigation").hide(),s.navigation=!1;if(this.swiper){this.swiper.destroy(!0,!0);const e=this.$element.find(".swiper-pagination")[0];e&&(e.innerHTML="")}this.swiper=new Swiper(this.$element.find(".swiper")[0],s)}changeActiveSlide(e,i=!1,n){if(i&&this.isEdit&&this.isElementInTheCurrentDocument())return window.top.$e.run("document/repeater/select",{container:elementor.getContainer(this.$element.attr("data-id")),index:parseInt(e)});this.isActiveSlide(e)}isActiveSlide(e){this.swiper&&(this.swiper.initialized=!1,this.swiper.init(),this.swiper.loopDestroy(),this.swiper.params.loop=!1,this.swiper.slideTo(e-1),this.swiper.update())}run(){if(this.isInitialized)return;const{slider:e,options:i,slider_exist:n}=this.getSliderOptions(this.$element);if(n){new elementorFrontend.utils.swiper(e,i).then(e=>e).then(e=>{this.swiper=e,this.isInitialized=!0})}}getSliderOptions(i){const n=e(e(".wcf__slider",i)[0]),t=i.find(".wcf__slider").length,a=e(e(".wcf__slider-wrapper, .wcf__t_slider-wrapper",i)[0]).data("settings")||{};if(a.handleElementorBreakpoints=!0,a.hasOwnProperty("navigation")){const n=e(".wcf-arrow-next",i)[0],t=e(".wcf-arrow-prev",i)[0];a.navigation.nextEl=n,a.navigation.prevEl=t}return a.hasOwnProperty("pagination")&&(a.pagination.el=e(".swiper-pagination",i)[0],a.pagination.hasOwnProperty("type")&&"fraction"===a.pagination.type&&(a.pagination.formatFractionCurrent=function(e){return("0"+e).slice(-2)},a.pagination.formatFractionTotal=function(e){return("0"+e).slice(-2)},a.pagination.renderFraction=function(e,i){return'<span class="'+e+'"></span><span class="mid-line"></span><span class="'+i+'"></span>'})),e(e(".wcf__slider-wrapper",i)[0]).removeAttr("data-settings"),{slider:n,options:a,slider_exist:t}}}["wcf--nested-slider.default"].forEach(e=>{elementorFrontend.hooks.addAction(`frontend/element_ready/${e}`,e=>{elementorFrontend.elementsHandler.addHandler(i,{$element:e})})})})}(jQuery);