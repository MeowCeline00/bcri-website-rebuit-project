window.addEventListener("elementor/frontend/init",()=>{const e=elementorModules.frontend.handlers.Base;class n extends e{bindEvents(){this.run(),window.addEventListener("resize",()=>{this.mobileMenu(),this.reRunForMobile()})}run(){this.mobileMenu()}reRunForMobile(){const e=window.innerWidth;void 0!==this.getElementSettings("mobile_menu_breakpoint")&&(e<767&&!this._rerunTriggered?(this._rerunTriggered=!0,this.mobileMenu()):e>=767&&(this._rerunTriggered=!1))}mobileMenu(){const e=document.querySelector("#wpadminbar"),n=e?e.offsetHeight:0,t=window.innerWidth,i=this.findElement(".wcf__nav-menu"),s=this.findElement(".wcf-nav-menu-container"),r=this.findElements(".wcf-nav-menu-nav .menu-item-has-children"),l=this.findElement(".mobile-sub-back")?.innerHTML||"Back";let o=0;const a=this.getElementSettings("mobile_menu_breakpoint");if(void 0===a||""==a)return;const c=elementorFrontend.config.responsive.activeBreakpoints;o=a&&"all"!==a?c[a].value:"all",i.classList.remove("desktop-menu-active","mobile-menu-active","wcf-nav-is-toggled");const d=`<li class="menu-item"><a class="nav-back-link" href="#">${l}</a></li>`;if("all"!==o&&t>o)return r.forEach(e=>{const n=e.querySelector(".sub-menu li:first-child");n?.querySelector(".nav-back-link")&&n.remove()}),void i.classList.add("desktop-menu-active");i.classList.add("mobile-menu-active"),s&&(s.style.top=`${n}px`),r.forEach(e=>{const n=e.querySelector(".sub-menu");if(!n)return;n.querySelector(".nav-back-link")||n.insertAdjacentHTML("afterbegin",d);const t=n.querySelector(".nav-back-link");t?.addEventListener("click",n=>{n.preventDefault(),e.classList.remove("active"),e.parentElement.closest(".menu-item")?.classList.add("active")})}),this.findElements(".wcf-submenu-indicator").forEach(e=>{e.addEventListener("click",n=>{n.preventDefault();const t=e.closest(".menu-item");if(!t)return;t.parentElement.querySelectorAll(":scope > .menu-item.active").forEach(e=>{e!==t&&e.classList.remove("active")}),t.classList.toggle("active")})}),this.findElement(".wcf-menu-hamburger")?.addEventListener("click",()=>{i.classList.add("wcf-nav-is-toggled"),document.body.style.overflow="hidden"}),this.findElement(".wcf-menu-close")?.addEventListener("click",()=>{i.classList.remove("wcf-nav-is-toggled"),document.body.style.overflow="auto"}),document.addEventListener("mouseup",e=>{s?.contains(e.target)||(i.classList.remove("wcf-nav-is-toggled"),document.body.style.overflow="auto")})}findElement(e){return this.$element[0]?.querySelector(e)}findElements(e){return Array.from(this.$element[0]?.querySelectorAll(e)||[])}}elementorFrontend.hooks.addAction("frontend/element_ready/wcf--nav-menu.default",e=>{elementorFrontend.elementsHandler.addHandler(n,{$element:e})})});